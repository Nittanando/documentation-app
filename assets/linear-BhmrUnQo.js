import{i as e,n as t,r as n,t as r}from"./defaultLocale-CTgCLg8G.js";import{t as i}from"./init-B8xRTswO.js";import{$t as a,Qt as o,en as s,on as c,rn as l}from"./index-CExtazMC.js";function u(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function f(e){let t,n,r;e.length===2?(t=e===u||e===d?e:p,n=e,r=e):(t=u,n=(t,n)=>u(e(t),n),r=(t,n)=>e(t)-n);function i(e,r,i=0,a=e.length){if(i<a){if(t(r,r)!==0)return a;do{let t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}function a(e,r,i=0,a=e.length){if(i<a){if(t(r,r)!==0)return a;do{let t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}function o(e,t,n=0,a=e.length){let o=i(e,t,n,a-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o}return{left:i,center:o,right:a}}function p(){return 0}function m(e){return e===null?NaN:+e}var h=f(u);const g=h.right;h.left,f(m).center;var _=g,v=Math.sqrt(50),y=Math.sqrt(10),b=Math.sqrt(2);function x(e,t,n){let r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/10**i,o=a>=v?10:a>=y?5:a>=b?2:1,s,c,l;return i<0?(l=10**-i/o,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=10**i*o,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?x(e,t,n*2):[s,c,l]}function S(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[i,a,o]=r?x(t,e,n):x(e,t,n);if(!(a>=i))return[];let s=a-i+1,c=Array(s);if(r)if(o<0)for(let e=0;e<s;++e)c[e]=(a-e)/-o;else for(let e=0;e<s;++e)c[e]=(a-e)*o;else if(o<0)for(let e=0;e<s;++e)c[e]=(i+e)/-o;else for(let e=0;e<s;++e)c[e]=(i+e)*o;return c}function C(e,t,n){return t=+t,e=+e,n=+n,x(e,t,n)[2]}function w(e,t,n){t=+t,e=+e,n=+n;let r=t<e,i=r?C(t,e,n):C(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function T(e,t){t||=[];var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function E(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function D(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=Array(r),a=Array(n),o;for(o=0;o<r;++o)i[o]=A(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(e){for(o=0;o<r;++o)a[o]=i[o](e);return a}}function O(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function k(e,t){var n={},r={},i;for(i in(typeof e!=`object`||!e)&&(e={}),(typeof t!=`object`||!t)&&(t={}),t)i in e?n[i]=A(e[i],t[i]):r[i]=t[i];return function(e){for(i in n)r[i]=n[i](e);return r}}function A(e,t){var n=typeof t,r;return t==null||n===`boolean`?l(t):(n===`number`?a:n===`string`?(r=c(t))?(t=r,s):o:t instanceof c?s:t instanceof Date?O:E(t)?T:Array.isArray(t)?D:typeof t.valueOf!=`function`&&typeof t.toString!=`function`||isNaN(t)?k:a)(e,t)}function j(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function M(t){return Math.max(0,-e(Math.abs(t)))}function N(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(e(n)/3)))*3-e(Math.abs(t)))}function P(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,e(n)-e(t))+1}function F(e){return function(){return e}}function I(e){return+e}var L=[0,1];function R(e){return e}function z(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:F(isNaN(t)?NaN:.5)}function B(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}function V(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=z(i,r),a=n(o,a)):(r=z(r,i),a=n(a,o)),function(e){return a(r(e))}}function H(e,t,n){var r=Math.min(e.length,t.length)-1,i=Array(r),a=Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=z(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=_(e,t,1,r)-1;return a[n](i[n](t))}}function U(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function W(){var e=L,t=L,n=A,r,i,o,s=R,c,l,u;function d(){var n=Math.min(e.length,t.length);return s!==R&&(s=B(e[0],e[n-1])),c=n>2?H:V,l=u=null,f}function f(i){return i==null||isNaN(i=+i)?o:(l||=c(e.map(r),t,n))(r(s(i)))}return f.invert=function(n){return s(i((u||=c(t,e.map(r),a))(n)))},f.domain=function(t){return arguments.length?(e=Array.from(t,I),d()):e.slice()},f.range=function(e){return arguments.length?(t=Array.from(e),d()):t.slice()},f.rangeRound=function(e){return t=Array.from(e),n=j,d()},f.clamp=function(e){return arguments.length?(s=e?!0:R,d()):s!==R},f.interpolate=function(e){return arguments.length?(n=e,d()):n},f.unknown=function(e){return arguments.length?(o=e,f):o},function(e,t){return r=e,i=t,d()}}function G(){return W()(R,R)}function K(e,i,a,o){var s=w(e,i,a),c;switch(o=n(o??`,f`),o.type){case`s`:var l=Math.max(Math.abs(e),Math.abs(i));return o.precision==null&&!isNaN(c=N(s,l))&&(o.precision=c),t(o,l);case``:case`e`:case`g`:case`p`:case`r`:o.precision==null&&!isNaN(c=P(s,Math.max(Math.abs(e),Math.abs(i))))&&(o.precision=c-(o.type===`e`));break;case`f`:case`%`:o.precision==null&&!isNaN(c=M(s))&&(o.precision=c-(o.type===`%`)*2);break}return r(o)}function q(e){var t=e.domain;return e.ticks=function(e){var n=t();return S(n[0],n[n.length-1],e??10)},e.tickFormat=function(e,n){var r=t();return K(r[0],r[r.length-1],e??10,n)},e.nice=function(n){n??=10;var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);u-- >0;){if(l=C(o,s,n),l===c)return r[i]=o,r[a]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function J(){var e=G();return e.copy=function(){return U(e,J())},i.apply(e,arguments),q(e)}export{f as a,w as i,G as n,U as r,J as t};